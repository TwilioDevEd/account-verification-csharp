<!DOCTYPE html><html><head><title>Account Verification</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="//twilio.com/bundles/marketing/img/favicons/favicon.ico"><link rel="apple-touch-icon" href="//twilio.com/bundles/marketing/img/favicons/favicon_57.png"><link rel="apple-touch-icon" sizes="72x72" href="//twilio.com/bundles/marketing/img/favicons/favicon_72.png"><link rel="apple-touch-icon" sizes="114x114" href="//twilio.com/bundles/marketing/img/favicons/favicon_114.png"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div id="viewsaurus" data-title="Account Verification"><div class="saurus-panes"><div class="saurus-prose"><div class="saurus-prose-header"><div class="title-outer"><span class="step-title">Account Verification</span></div></div><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw fa-list"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>Learn to implement account verification in your web app with Twilio-powered Authy. Account verification helps you ensure your customer data is accurate and secure. This tutorial will show you the code to make it happen.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Account Verification ASP.NET MVC" class="chapter"><div data-title="Introduction" data-file="AccountVerification.Web/App_Start/IdentityConfig.cs" class="step"><h2 id="introduction">Introduction</h2>
<p>Ready to implement user account verification in your application? Here&#39;s how it works at a high level:</p>
<ol>
<li><p>The user begins the registration process by entering his/her data, including a mobile phone number, into a signup form</p>
</li>
<li><p>The authentication system sends a verification code to the user&#39;s mobile phone to verify the possession of it</p>
</li>
<li><p>The user enters the verification code into a verification form to complete the registration process</p>
</li>
<li><p>The user then is redirected to a success page and receives an SMS indicating that the account has been successfully created</p>
</li>
</ol>
<h2 id="building-blocks">Building Blocks</h2>
<p>To get this done, you&#39;ll be working with the following Twilio powered APIs:</p>
<p><strong>Authy REST API</strong></p>
<ul>
<li><a href="//docs.authy.com/">Authy</a>: Find quick starts, documentation, and all about the helper libraries.</li>
</ul>
<p><strong>Twilio REST API</strong></p>
<ul>
<li><a href="//www.twilio.com/docs/api/rest/sending-messages">Twilio Messages</a>: We
will use Twilio directly to send our user a confirmation message after they
create an account</li>
</ul>
<p>Let&#39;s get started! Click the right arrow to move on to the next step of the tutorial.</p>
</div><div data-title="User Management" data-file="AccountVerification.Web/Models/IdentityModels.cs" data-highlight="13-19" class="step"><h2 id="user-management">User Management</h2>
<p>This tutorial focuses on the user registration process so, we should
probably mention the auth model. We&#39;ll be using use
<a href="http://www.asp.net/identity">ASP.NET.Identity</a>, which is a relatively
new membership system for building ASP.NET web apps and it provides you
with some very powerful user and role managements features.</p>
<p>In order to define ours <strong>User</strong> model we just have to subclass the one
provided by ASP.NET Identity and specify what properties we want for it,
which would be the <code>Name</code>, the <code>CountryCode</code> and the <code>AuthyUserId</code>, this
one will be used to store the Authy token used to identify the user.
Later in this tutorial we&#39;ll explain how to obtain it.</p>
</div><div data-title="Registration form and UI" data-file="AccountVerification.Web/Views/Account/Register.cshtml" data-highlight="9-49" data-mode="html" class="step"><h2 id="registration-form-and-ui">Registration form and UI</h2>
<p>During the registration of a new user, we ask for a name, an E-mail address, and a password.
In order to validate their account, we also ask them for a mobile number
with a country code, which we can use with Authy to send the verification code
via SMS.</p>
<p>When we create a new ASP.NET Web Application, it includes the necessary <code>ASP.NET Identity</code> views,
among those is the registration form. So, we just have to modify it to get it looking like we want.</p>
</div><div data-title="Registration server side implementation" data-file="AccountVerification.Web/Controllers/AccountController.cs" data-highlight="152-191" class="step"><h2 id="registration-server-side-implementation">Registration server side implementation</h2>
<p>It&#39;s now the controller&#39;s responsibility to verify that the user provides the required information to
create a new user. If all goes good the controller should persist it in the database, registers the user under
Authy&#39;s API and requests the send of the verification code to the user through the <code>RequestPhoneNumberConfirmationTokenAsync</code>
method invocation, which will be explained a few sections ahead.</p>
<p>The flow finalizes with the redirect of the user to the verification code page.</p>
</div><div data-title="Verification form and UI" data-file="AccountVerification.Web/Views/Account/VerifyRegistrationCode.cshtml" data-mode="html" class="step"><h2 id="verification-form-and-ui">Verification form and UI</h2>
<p>As stated before, once the user completes the registration they get redirected to the verification page, which you may access
at any time using the route <code>/Account/VerifyRegistrationCode</code>. This page consists of a simple form where you can input your
account E-mail address, and verify the SMS verification code.</p>
</div><div data-title="Verification server side implementation" data-file="AccountVerification.Web/Controllers/AccountController.cs" data-highlight="73-97" class="step"><h2 id="verification-server-side-implementation">Verification server side implementation</h2>
<p>The server side implementation for the registration process confirmation ensures the given E-mail belongs to a previously registered user which hasn&#39;t
performed the verification process yet.</p>
<p>From this moment the process has two critical steps:</p>
<ol>
<li><p>It communicates with Authy&#39;s API to check that the given code is correct</p>
</li>
<li><p>Once the code is verified with Authy we send a confirmation SMS to the user.</p>
</li>
<li><p>Finally it redirects the user to a success page.</p>
</li>
</ol>
</div><div data-title="Twilio and Authy configuration" data-file="AccountVerification.Web/Web.config" data-highlight="19-22" data-mode="xml" class="step"><h2 id="twilio-and-authy-configuration">Twilio and Authy configuration</h2>
<p>Before we move on let&#39;s take a quick look at some application configuration.</p>
<p>You need to create a Local.config file under the <code>AccountVerification.Web</code> directory with the following content:</p>
<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
  &lt;appSettings&gt;
    &lt;add key=&quot;TwilioAccountSID&quot; value=&quot;your_twilio_account_SID&quot; /&gt;
    &lt;add key=&quot;TwilioAuthToken&quot; value=&quot;your_twilio_auth_token&quot; /&gt;
    &lt;add key=&quot;TwilioNumber&quot; value=&quot;your_twilio_number&quot; /&gt;
    &lt;add key=&quot;AuthyKey&quot; value=&quot;your_authy_key&quot; /&gt;
  &lt;/appSettings&gt;
</code></pre><p>You can find these settings in your <a href="/user/account">Twlio Account Dashboard</a> and your <a href="https://dashboard.authy.com/signup">Authy
dashboard</a>.</p>
<p><strong>See Also</strong></p>
<ul>
<li><a href="//www.twilio.com/docs/csharp/install">The Twilio C# Helper Library</a></li>
<li><a href="https://github.com/davidsulpy/authy-net-client">The Authy.Net Client</a></li>
</ul>
</div><div data-title="Request verification code" data-file="AccountVerification.Web/App_Start/IdentityConfig.cs" data-highlight="132-154" class="step"><h2 id="request-verification-code">Request verification code</h2>
<p>The ASP.NET Identity <strong>UserManager</strong> is the brain for all the user management related operation and where all our magic happens.</p>
<p>In order to request a verification code, we extend the <code>ApplicationUserManager</code> by adding an <code>AuthyClient</code> instance. Additionally, we add a method to check that the user exists and has been registered with Authy. If they haven&#39;t, we call <code>RegisterUser</code> on the <code>AuthyClient</code> instance, and update the <code>AuthyUserId</code>.</p>
<p>Finally, we call the <code>SendSms</code> with the <code>AuthyClient</code> which requires the user&#39;s
<code>AuthyUserId</code> and a <code>true</code> value for the <code>force</code> parameter. This will send the verification code to the user and force it to be sent via SMS.</p>
</div><div data-title="Verification code confirmation" data-file="AccountVerification.Web/App_Start/IdentityConfig.cs" data-highlight="113-129" class="step"><h2 id="verification-code-confirmation">Verification code confirmation</h2>
<p>In order to verify the code we just sent the user we add a <code>ConfirmPhoneNumberAsync</code> method to the <code>ApplicationUserManager</code> class. This method will call Authy API&#39;s <code>VerifyToken</code> method,
which returns a <code>boolean</code> indicating if the code is correct.
If so, the method updates the user stating that the user phone number has been confirmed.</p>
<p>This method returns an <code>IdentityResult</code> object indicating the verification process&#39;s result. If positive, it will lead the controller
to the second step of registration process confirmation.</p>
</div><div data-title="Account confirmation notification" data-file="AccountVerification.Web/App_Start/IdentityConfig.cs" data-highlight="17-30" class="step"><h2 id="account-confirmation-notification">Account confirmation notification</h2>
<p>After we verify the code and log in the user, we need to send an success SMS. We can do this by adding some Twilio code to the <code>UserManager</code> class.</p>
<p>Here we create a <code>TwilioRestClient</code> with our Twilio&#39;s preconfigured SID and Auth Token for
sending an SMS to the messages&#39;s destination number. Next all we need to do is call <a href="//www.twilio.com/docs/api/rest/sending-messages#example-1"><code>twilio.sendMessage()</code></a> and we&#39;ve sent an SMS to our verified and logged in user!</p>
</div><div data-title="Where to Next?" class="step"><h2 id="where-to-next-">Where to Next?</h2>
<p>That&#39;s it! We&#39;ve just implemented account verification. If you&#39;re a ASP.NET MVC developer working with Twilio,
you might want to check out these other tutorials:</p>
<p><a href="//www.twilio.com/docs/tutorials/walkthrough/server-notifications/csharp/mvc"><strong>SMS and MMS Notifications</strong></a></p>
<p>Use Twilio to create sms server alerts so that you never miss a critical server issue.</p>
<p><a href="//www.twilio.com/docs/tutorials/walkthrough/appointment-reminders/csharp/mvc"><strong>Apointment Reminders</strong></a></p>
<p>Use Twilio to create automatic appointment reminders for your business users.</p>
<h3 id="did-this-help-">Did this help?</h3>
<p>Thanks for checking out this tutorial! If you have any feedback to share
with us, we&#39;d love to hear it. Tweet
<a href="http://twitter.com/twilio">@twilio</a> to let us know what you think.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="AccountVerification.Web/App_Start/IdentityConfig.cs" data-mode="csharp">77u/dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uRGlhZ25vc3RpY3M7CnVzaW5nIFN5c3RlbS5HbG9iYWxpemF0aW9uOwp1c2luZyBTeXN0ZW0uU2VjdXJpdHkuQ2xhaW1zOwp1c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzOwp1c2luZyBNaWNyb3NvZnQuQXNwTmV0LklkZW50aXR5Owp1c2luZyBNaWNyb3NvZnQuQXNwTmV0LklkZW50aXR5LkVudGl0eUZyYW1ld29yazsKdXNpbmcgTWljcm9zb2Z0LkFzcE5ldC5JZGVudGl0eS5Pd2luOwp1c2luZyBNaWNyb3NvZnQuT3dpbjsKdXNpbmcgTWljcm9zb2Z0Lk93aW4uU2VjdXJpdHk7CnVzaW5nIEFjY291bnRWZXJpZmljYXRpb24uV2ViLk1vZGVsczsKdXNpbmcgQXV0aHkuTmV0Owp1c2luZyBUd2lsaW87CgpuYW1lc3BhY2UgQWNjb3VudFZlcmlmaWNhdGlvbi5XZWIKewogICAgcHVibGljIGNsYXNzIFNtc1NlcnZpY2UgOiBJSWRlbnRpdHlNZXNzYWdlU2VydmljZQogICAgewogICAgICAgIHB1YmxpYyBUYXNrIFNlbmRBc3luYyhJZGVudGl0eU1lc3NhZ2UgbWVzc2FnZSkKICAgICAgICB7CiAgICAgICAgICAgIHZhciB0d2lsaW8gPSBuZXcgVHdpbGlvUmVzdENsaWVudChUd2lsaW9TZXR0aW5ncy5BY2NvdW50U0lELCBUd2lsaW9TZXR0aW5ncy5BdXRoVG9rZW4pOwoKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHR3aWxpby5TZW5kTWVzc2FnZShUd2lsaW9TZXR0aW5ncy5QaG9uZU51bWJlcixtZXNzYWdlLkRlc3RpbmF0aW9uLCBtZXNzYWdlLkJvZHkpOwoKICAgICAgICAgICAgVHJhY2UuVHJhY2VJbmZvcm1hdGlvbihyZXN1bHQuU3RhdHVzKTsKCiAgICAgICAgICAgIC8vIFR3aWxpbyBkb2Vzbid0IGN1cnJlbnRseSBoYXZlIGFuIGFzeW5jIEFQSSwgc28gd2UgcmV0dXJuIHN1Y2Nlc3MuCiAgICAgICAgICAgIHJldHVybiBUYXNrLkZyb21SZXN1bHQoMCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBjbGFzcyBFbWFpbFNlcnZpY2UgOiBJSWRlbnRpdHlNZXNzYWdlU2VydmljZQogICAgewogICAgICAgIHB1YmxpYyBUYXNrIFNlbmRBc3luYyhJZGVudGl0eU1lc3NhZ2UgbWVzc2FnZSkKICAgICAgICB7CiAgICAgICAgICAgIC8vIFBsdWcgaW4geW91ciBlbWFpbCBzZXJ2aWNlIGhlcmUgdG8gc2VuZCBhbiBlbWFpbC4KICAgICAgICAgICAgcmV0dXJuIFRhc2suRnJvbVJlc3VsdCgwKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGludGVyZmFjZSBJQXBwbGljYXRpb25Vc2VyTWFuYWdlcgogICAgewogICAgICAgIFRhc2s8SWRlbnRpdHlSZXN1bHQ+IENvbmZpcm1QaG9uZU51bWJlckFzeW5jKHN0cmluZyB1c2VySWQsIHN0cmluZyBjb2RlKTsKICAgICAgICBUYXNrIFJlcXVlc3RQaG9uZU51bWJlckNvbmZpcm1hdGlvblRva2VuQXN5bmMoc3RyaW5nIHVzZXJJZCk7CiAgICB9CgogICAgLy8gQ29uZmlndXJlIHRoZSBhcHBsaWNhdGlvbiB1c2VyIG1hbmFnZXIgdXNlZCBpbiB0aGlzIGFwcGxpY2F0aW9uLiBVc2VyTWFuYWdlciBpcyBkZWZpbmVkIGluIAogICAgLy8gQVNQLk5FVCBJZGVudGl0eSBhbmQgaXMgdXNlZCBieSB0aGUgYXBwbGljYXRpb24uCiAgICBwdWJsaWMgY2xhc3MgQXBwbGljYXRpb25Vc2VyTWFuYWdlciA6IFVzZXJNYW5hZ2VyPEFwcGxpY2F0aW9uVXNlcj4sIElBcHBsaWNhdGlvblVzZXJNYW5hZ2VyCiAgICB7CiAgICAgICAgcHJpdmF0ZSBBdXRoeUNsaWVudCBfYXV0aHlBcGlDbGllbnQ7CgogICAgICAgIHB1YmxpYyBBcHBsaWNhdGlvblVzZXJNYW5hZ2VyKElVc2VyU3RvcmU8QXBwbGljYXRpb25Vc2VyPiBzdG9yZSkKICAgICAgICAgICAgOiBiYXNlKHN0b3JlKQogICAgICAgIHsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgQXBwbGljYXRpb25Vc2VyTWFuYWdlciBDcmVhdGUoSWRlbnRpdHlGYWN0b3J5T3B0aW9uczxBcHBsaWNhdGlvblVzZXJNYW5hZ2VyPiBvcHRpb25zLCBJT3dpbkNvbnRleHQgY29udGV4dCkKICAgICAgICB7CiAgICAgICAgICAgIHZhciBtYW5hZ2VyID0gbmV3IEFwcGxpY2F0aW9uVXNlck1hbmFnZXIobmV3IFVzZXJTdG9yZTxBcHBsaWNhdGlvblVzZXI+KGNvbnRleHQuR2V0PEFwcGxpY2F0aW9uRGJDb250ZXh0PigpKSk7CiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSB2YWxpZGF0aW9uIGxvZ2ljIGZvciB1c2VybmFtZXMKICAgICAgICAgICAgbWFuYWdlci5Vc2VyVmFsaWRhdG9yID0gbmV3IFVzZXJWYWxpZGF0b3I8QXBwbGljYXRpb25Vc2VyPihtYW5hZ2VyKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBBbGxvd09ubHlBbHBoYW51bWVyaWNVc2VyTmFtZXMgPSBmYWxzZSwKICAgICAgICAgICAgICAgIFJlcXVpcmVVbmlxdWVFbWFpbCA9IHRydWUKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSB2YWxpZGF0aW9uIGxvZ2ljIGZvciBwYXNzd29yZHMKICAgICAgICAgICAgbWFuYWdlci5QYXNzd29yZFZhbGlkYXRvciA9IG5ldyBQYXNzd29yZFZhbGlkYXRvcgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBSZXF1aXJlZExlbmd0aCA9IDYsCiAgICAgICAgICAgICAgICBSZXF1aXJlTm9uTGV0dGVyT3JEaWdpdCA9IGZhbHNlLAogICAgICAgICAgICAgICAgUmVxdWlyZURpZ2l0ID0gZmFsc2UsCiAgICAgICAgICAgICAgICBSZXF1aXJlTG93ZXJjYXNlID0gdHJ1ZSwKICAgICAgICAgICAgICAgIFJlcXVpcmVVcHBlcmNhc2UgPSBmYWxzZSwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSB1c2VyIGxvY2tvdXQgZGVmYXVsdHMKICAgICAgICAgICAgbWFuYWdlci5Vc2VyTG9ja291dEVuYWJsZWRCeURlZmF1bHQgPSB0cnVlOwogICAgICAgICAgICBtYW5hZ2VyLkRlZmF1bHRBY2NvdW50TG9ja291dFRpbWVTcGFuID0gVGltZVNwYW4uRnJvbU1pbnV0ZXMoNSk7CiAgICAgICAgICAgIG1hbmFnZXIuTWF4RmFpbGVkQWNjZXNzQXR0ZW1wdHNCZWZvcmVMb2Nrb3V0ID0gNTsKCiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHR3byBmYWN0b3IgYXV0aGVudGljYXRpb24gcHJvdmlkZXJzLiBUaGlzIGFwcGxpY2F0aW9uIHVzZXMgUGhvbmUgYW5kIEVtYWlscyAKICAgICAgICAgICAgLy8gYXMgYSBzdGVwIG9mIHJlY2VpdmluZyBhIGNvZGUgZm9yIHZlcmlmeWluZyB0aGUgdXNlcgogICAgICAgICAgICAvLyBZb3UgY2FuIHdyaXRlIHlvdXIgb3duIHByb3ZpZGVyIGFuZCBwbHVnIGl0IGluIGhlcmUuCgogICAgICAgICAgICBtYW5hZ2VyLlJlZ2lzdGVyVHdvRmFjdG9yUHJvdmlkZXIoIlBob25lQ29kZSIsIG5ldyBQaG9uZU51bWJlclRva2VuUHJvdmlkZXI8QXBwbGljYXRpb25Vc2VyPgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBNZXNzYWdlRm9ybWF0ID0gIllvdXIgc2VjdXJpdHkgY29kZSBpczogezB9IgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbWFuYWdlci5SZWdpc3RlclR3b0ZhY3RvclByb3ZpZGVyKCJFbWFpbENvZGUiLCBuZXcgRW1haWxUb2tlblByb3ZpZGVyPEFwcGxpY2F0aW9uVXNlcj4KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgU3ViamVjdCA9ICJTZWN1cml0eUNvZGUiLAogICAgICAgICAgICAgICAgQm9keUZvcm1hdCA9ICJZb3VyIHNlY3VyaXR5IGNvZGUgaXMgezB9IgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbWFuYWdlci5FbWFpbFNlcnZpY2UgPSBuZXcgRW1haWxTZXJ2aWNlKCk7CiAgICAgICAgICAgIG1hbmFnZXIuU21zU2VydmljZSA9IG5ldyBTbXNTZXJ2aWNlKCk7CgogICAgICAgICAgICB2YXIgZGF0YVByb3RlY3Rpb25Qcm92aWRlciA9IG9wdGlvbnMuRGF0YVByb3RlY3Rpb25Qcm92aWRlcjsKICAgICAgICAgICAgaWYgKGRhdGFQcm90ZWN0aW9uUHJvdmlkZXIgIT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbWFuYWdlci5Vc2VyVG9rZW5Qcm92aWRlciA9CiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGFQcm90ZWN0b3JUb2tlblByb3ZpZGVyPEFwcGxpY2F0aW9uVXNlcj4oZGF0YVByb3RlY3Rpb25Qcm92aWRlci5DcmVhdGUoIkFTUC5ORVQgSWRlbnRpdHkiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXI7CiAgICAgICAgfQoKICAgICAgICAjcmVnaW9uIFVzZXIgTWFuYWdlciBleHRlbmRlZCBtZXRob2QgaW50ZXJmYWNlCiAgICAgICAgcHVibGljIHZpcnR1YWwgYXN5bmMgVGFzazxJZGVudGl0eVJlc3VsdD4gQ29uZmlybVBob25lTnVtYmVyQXN5bmMoc3RyaW5nIHVzZXJJZCwgc3RyaW5nIGNvZGUpCiAgICAgICAgewogICAgICAgICAgICBBcHBsaWNhdGlvblVzZXIgdXNlciA9IGF3YWl0IEZpbmRCeUlkQXN5bmModXNlcklkKTsKCiAgICAgICAgICAgIGlmICh1c2VyID09IG51bGwpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZE9wZXJhdGlvbkV4Y2VwdGlvbihzdHJpbmcuRm9ybWF0KEN1bHR1cmVJbmZvLkN1cnJlbnRDdWx0dXJlLCBBcHBsaWNhdGlvbk1lc3NhZ2VzLlVzZXJJZE5vdEZvdW5kKSk7CgogICAgICAgICAgICBJZGVudGl0eVJlc3VsdCBpZGVudGl0eVJlc3VsdDsKCiAgICAgICAgICAgIGlmICghQXV0aHlBcGlDbGllbnQuVmVyaWZ5VG9rZW4odXNlci5BdXRoeVVzZXJJZCwgY29kZSkuU3VjY2VzcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWRlbnRpdHlSZXN1bHQgPSBJZGVudGl0eVJlc3VsdC5GYWlsZWQoQXBwbGljYXRpb25NZXNzYWdlcy5JbnZhbGlkVmVyaWZpY2F0aW9uQ29kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJVXNlclBob25lTnVtYmVyU3RvcmU8QXBwbGljYXRpb25Vc2VyLCBzdHJpbmc+IHN0b3JlID0gKElVc2VyUGhvbmVOdW1iZXJTdG9yZTxBcHBsaWNhdGlvblVzZXIsIHN0cmluZz4pU3RvcmU7CgogICAgICAgICAgICAgICAgYXdhaXQgc3RvcmUuU2V0UGhvbmVOdW1iZXJDb25maXJtZWRBc3luYyh1c2VyLCB0cnVlKTsKICAgICAgICAgICAgICAgIGlkZW50aXR5UmVzdWx0ID0gYXdhaXQgVXBkYXRlQXN5bmModXNlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGlkZW50aXR5UmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZpcnR1YWwgYXN5bmMgVGFzayBSZXF1ZXN0UGhvbmVOdW1iZXJDb25maXJtYXRpb25Ub2tlbkFzeW5jKHN0cmluZyB1c2VySWQpCiAgICAgICAgewogICAgICAgICAgICBBcHBsaWNhdGlvblVzZXIgdXNlciA9IGF3YWl0IEZpbmRCeUlkQXN5bmModXNlcklkKTsKCiAgICAgICAgICAgIGlmICh1c2VyID09IG51bGwpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZE9wZXJhdGlvbkV4Y2VwdGlvbihzdHJpbmcuRm9ybWF0KEN1bHR1cmVJbmZvLkN1cnJlbnRDdWx0dXJlLCBBcHBsaWNhdGlvbk1lc3NhZ2VzLlVzZXJJZE5vdEZvdW5kKSk7CgogICAgICAgICAgICBpZiAoU3RyaW5nLklzTnVsbE9yRW1wdHkodXNlci5BdXRoeVVzZXJJZCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGF3YWl0IFJlZ2lzdGVyQXNBdXRoeVVzZXIodXNlcik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEF1dGh5QXBpQ2xpZW50LlNlbmRTbXModXNlci5BdXRoeVVzZXJJZCwgZm9yY2U6dHJ1ZSk7CiAgICAgICAgfQoKICAgICAgICAjcmVnaW9uIFByaXZhdGUgTWV0aG9kcwogICAgICAgIHByaXZhdGUgYXN5bmMgVGFzayBSZWdpc3RlckFzQXV0aHlVc2VyKEFwcGxpY2F0aW9uVXNlciB1c2VyKQogICAgICAgIHsKICAgICAgICAgICAgc3RyaW5nIGF1dGh5VXNlcklkID0gQXV0aHlBcGlDbGllbnQuUmVnaXN0ZXJVc2VyKHVzZXIuRW1haWwsIHVzZXIuUGhvbmVOdW1iZXIuUmVwbGFjZShTdHJpbmcuRm9ybWF0KCIrezB9IiwgdXNlci5Db3VudHJ5Q29kZSksIHN0cmluZy5FbXB0eSksIENvbnZlcnQuVG9JbnQzMih1c2VyLkNvdW50cnlDb2RlKSkuVXNlcklkOwogICAgICAgICAgICB1c2VyLkF1dGh5VXNlcklkID0gYXV0aHlVc2VySWQ7CgogICAgICAgICAgICBhd2FpdCBVcGRhdGVBc3luYyh1c2VyKTsKICAgICAgICB9CgogICAgICAgIHByaXZhdGUgQXV0aHlDbGllbnQgQXV0aHlBcGlDbGllbnQKICAgICAgICB7CiAgICAgICAgICAgIGdldCB7IHJldHVybiBfYXV0aHlBcGlDbGllbnQgPz8gKF9hdXRoeUFwaUNsaWVudCA9IG5ldyBBdXRoeUNsaWVudChBdXRoeVNldHRpbmdzLktleSwgdGVzdDogZmFsc2UpKTsgfQogICAgICAgIH0KICAgICAgICAjZW5kcmVnaW9uIAoKICAgICAgICAjZW5kcmVnaW9uCiAgICB9CgogICAgLy8gQ29uZmlndXJlIHRoZSBhcHBsaWNhdGlvbiBzaWduLWluIG1hbmFnZXIgd2hpY2ggaXMgdXNlZCBpbiB0aGlzIGFwcGxpY2F0aW9uLgogICAgcHVibGljIGNsYXNzIEFwcGxpY2F0aW9uU2lnbkluTWFuYWdlciA6IFNpZ25Jbk1hbmFnZXI8QXBwbGljYXRpb25Vc2VyLCBzdHJpbmc+CiAgICB7CiAgICAgICAgcHVibGljIEFwcGxpY2F0aW9uU2lnbkluTWFuYWdlcihBcHBsaWNhdGlvblVzZXJNYW5hZ2VyIHVzZXJNYW5hZ2VyLCBJQXV0aGVudGljYXRpb25NYW5hZ2VyIGF1dGhlbnRpY2F0aW9uTWFuYWdlcikKICAgICAgICAgICAgOiBiYXNlKHVzZXJNYW5hZ2VyLCBhdXRoZW50aWNhdGlvbk1hbmFnZXIpCiAgICAgICAgewogICAgICAgIH0KCiAgICAgICAgcHVibGljIG92ZXJyaWRlIFRhc2s8Q2xhaW1zSWRlbnRpdHk+IENyZWF0ZVVzZXJJZGVudGl0eUFzeW5jKEFwcGxpY2F0aW9uVXNlciB1c2VyKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIHVzZXIuR2VuZXJhdGVVc2VySWRlbnRpdHlBc3luYygoQXBwbGljYXRpb25Vc2VyTWFuYWdlcilVc2VyTWFuYWdlcik7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIEFwcGxpY2F0aW9uU2lnbkluTWFuYWdlciBDcmVhdGUoSWRlbnRpdHlGYWN0b3J5T3B0aW9uczxBcHBsaWNhdGlvblNpZ25Jbk1hbmFnZXI+IG9wdGlvbnMsIElPd2luQ29udGV4dCBjb250ZXh0KQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBBcHBsaWNhdGlvblNpZ25Jbk1hbmFnZXIoY29udGV4dC5HZXRVc2VyTWFuYWdlcjxBcHBsaWNhdGlvblVzZXJNYW5hZ2VyPigpLCBjb250ZXh0LkF1dGhlbnRpY2F0aW9uKTsKICAgICAgICB9CiAgICB9Cn0K</textarea>
<textarea class="saurus-file" data-file="AccountVerification.Web/Models/IdentityModels.cs" data-mode="csharp">77u/dXNpbmcgU3lzdGVtLkNvbXBvbmVudE1vZGVsLkRhdGFBbm5vdGF0aW9uczsKdXNpbmcgU3lzdGVtLkRhdGEuRW50aXR5Owp1c2luZyBTeXN0ZW0uU2VjdXJpdHkuQ2xhaW1zOwp1c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzOwp1c2luZyBNaWNyb3NvZnQuQXNwTmV0LklkZW50aXR5Owp1c2luZyBNaWNyb3NvZnQuQXNwTmV0LklkZW50aXR5LkVudGl0eUZyYW1ld29yazsKCm5hbWVzcGFjZSBBY2NvdW50VmVyaWZpY2F0aW9uLldlYi5Nb2RlbHMKewogICAgLy8gWW91IGNhbiBhZGQgcHJvZmlsZSBkYXRhIGZvciB0aGUgdXNlciBieSBhZGRpbmcgbW9yZSBwcm9wZXJ0aWVzIHRvIHlvdXIgQXBwbGljYXRpb25Vc2VyIGNsYXNzLCBwbGVhc2UgdmlzaXQgaHR0cDovL2dvLm1pY3Jvc29mdC5jb20vZndsaW5rLz9MaW5rSUQ9MzE3NTk0IHRvIGxlYXJuIG1vcmUuCiAgICBwdWJsaWMgY2xhc3MgQXBwbGljYXRpb25Vc2VyIDogSWRlbnRpdHlVc2VyCiAgICB7CiAgICAgICAgW1JlcXVpcmVkXQogICAgICAgIHB1YmxpYyBzdHJpbmcgTmFtZSB7IGdldDsgc2V0OyB9CgogICAgICAgIFtSZXF1aXJlZF0KICAgICAgICBwdWJsaWMgc3RyaW5nIENvdW50cnlDb2RlIHsgZ2V0OyBzZXQ7IH0KCiAgICAgICAgcHVibGljIHN0cmluZyBBdXRoeVVzZXJJZCB7IGdldDsgc2V0OyB9CgogICAgICAgIHB1YmxpYyBhc3luYyBUYXNrPENsYWltc0lkZW50aXR5PiBHZW5lcmF0ZVVzZXJJZGVudGl0eUFzeW5jKFVzZXJNYW5hZ2VyPEFwcGxpY2F0aW9uVXNlcj4gbWFuYWdlcikKICAgICAgICB7CiAgICAgICAgICAgIC8vIE5vdGUgdGhlIGF1dGhlbnRpY2F0aW9uVHlwZSBtdXN0IG1hdGNoIHRoZSBvbmUgZGVmaW5lZCBpbiBDb29raWVBdXRoZW50aWNhdGlvbk9wdGlvbnMuQXV0aGVudGljYXRpb25UeXBlCiAgICAgICAgICAgIHZhciB1c2VySWRlbnRpdHkgPSBhd2FpdCBtYW5hZ2VyLkNyZWF0ZUlkZW50aXR5QXN5bmModGhpcywgRGVmYXVsdEF1dGhlbnRpY2F0aW9uVHlwZXMuQXBwbGljYXRpb25Db29raWUpOwogICAgICAgICAgICAvLyBBZGQgY3VzdG9tIHVzZXIgY2xhaW1zIGhlcmUKICAgICAgICAgICAgcmV0dXJuIHVzZXJJZGVudGl0eTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGNsYXNzIEFwcGxpY2F0aW9uRGJDb250ZXh0IDogSWRlbnRpdHlEYkNvbnRleHQ8QXBwbGljYXRpb25Vc2VyPgogICAgewogICAgICAgIHB1YmxpYyBBcHBsaWNhdGlvbkRiQ29udGV4dCgpCiAgICAgICAgICAgIDogYmFzZSgiRGVmYXVsdENvbm5lY3Rpb24iLCB0aHJvd0lmVjFTY2hlbWE6IGZhbHNlKQogICAgICAgIHsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgQXBwbGljYXRpb25EYkNvbnRleHQgQ3JlYXRlKCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBuZXcgQXBwbGljYXRpb25EYkNvbnRleHQoKTsKICAgICAgICB9CiAgICB9Cn0=</textarea>
<textarea class="saurus-file" data-file="AccountVerification.Web/Views/Account/Register.cshtml" data-mode="html">77u/QG1vZGVsIEFjY291bnRWZXJpZmljYXRpb24uV2ViLk1vZGVscy5SZWdpc3RlclZpZXdNb2RlbApAewogICAgVmlld0JhZy5UaXRsZSA9ICJSZWdpc3RlciI7Cn0KPGgxPldlJ3JlIGdvaW5nIHRvIGJlICpCRVNUKiBmcmllbmRzPC9oMT4KPHA+IFRoYW5rcyBmb3IgeW91ciBpbnRlcmVzdCBpbiBzaWduaW5nIHVwISBDYW4geW91IHRlbGwgdXMgYSBiaXQgYWJvdXQgeW91cnNlbGY/PC9wPgoKCkB1c2luZyAoSHRtbC5CZWdpbkZvcm0oIlJlZ2lzdGVyIiwgIkFjY291bnQiLCBGb3JtTWV0aG9kLlBvc3QsIG5ldyB7IEBjbGFzcyA9ICJmb3JtLWhvcml6b250YWwiLCByb2xlID0gImZvcm0iIH0pKQp7CiAgICBASHRtbC5BbnRpRm9yZ2VyeVRva2VuKCkKICAgIEBIdG1sLlZhbGlkYXRpb25TdW1tYXJ5KCIiLCBuZXcgeyBAY2xhc3MgPSAidGV4dC1kYW5nZXIiIH0pCiAgICA8aHIgLz4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIEBIdG1sLkxhYmVsRm9yKG0gPT4gbS5OYW1lLCBuZXcgeyBAY2xhc3MgPSAiY29sLW1kLTIgY29udHJvbC1sYWJlbCIgfSkKICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMTAiPgogICAgICAgICAgICBASHRtbC5UZXh0Qm94Rm9yKG0gPT4gbS5OYW1lLCBuZXcgeyBAY2xhc3MgPSAiZm9ybS1jb250cm9sIiB9KQogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICBASHRtbC5MYWJlbEZvcihtID0+IG0uRW1haWwsIG5ldyB7IEBjbGFzcyA9ICJjb2wtbWQtMiBjb250cm9sLWxhYmVsIiB9KQogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0xMCI+CiAgICAgICAgICAgIEBIdG1sLlRleHRCb3hGb3IobSA9PiBtLkVtYWlsLCBuZXcgeyBAY2xhc3MgPSAiZm9ybS1jb250cm9sIiB9KQogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICBASHRtbC5MYWJlbEZvcihtID0+IG0uUGFzc3dvcmQsIG5ldyB7IEBjbGFzcyA9ICJjb2wtbWQtMiBjb250cm9sLWxhYmVsIiB9KQogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0xMCI+CiAgICAgICAgICAgIEBIdG1sLlBhc3N3b3JkRm9yKG0gPT4gbS5QYXNzd29yZCwgbmV3IHsgQGNsYXNzID0gImZvcm0tY29udHJvbCIgfSkKICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgQEh0bWwuTGFiZWxGb3IobSA9PiBtLkNvdW50cnlDb2RlLCBuZXcgeyBAY2xhc3MgPSAiY29sLW1kLTIgY29udHJvbC1sYWJlbCJ9KQogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0xMCI+CiAgICAgICAgICAgIEBIdG1sLlRleHRCb3hGb3IobSA9PiBtLkNvdW50cnlDb2RlLCBuZXcgeyBAY2xhc3MgPSAiZm9ybS1jb250cm9sIiwgaWQgPSAiYXV0aHktY291bnRyaWVzIiB9KQogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICBASHRtbC5MYWJlbEZvcihtID0+IG0uUGhvbmVOdW1iZXIsIG5ldyB7IEBjbGFzcyA9ICJjb2wtbWQtMiBjb250cm9sLWxhYmVsIiB9KQogICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0xMCI+CiAgICAgICAgICAgIEBIdG1sLlRleHRCb3hGb3IobSA9PiBtLlBob25lTnVtYmVyLCBuZXcgeyBAY2xhc3MgPSAiZm9ybS1jb250cm9sIiB9KQogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtb2Zmc2V0LTIgY29sLW1kLTEwIj4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgdmFsdWU9IlNpZ24gVXAiIC8+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KfQoKQHNlY3Rpb24gU2NyaXB0cyB7CiAgICBAU2NyaXB0cy5SZW5kZXIoIn4vYnVuZGxlcy9qcXVlcnl2YWwiKQp9Cg==</textarea>
<textarea class="saurus-file" data-file="AccountVerification.Web/Controllers/AccountController.cs" data-mode="csharp">77u/dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzOwp1c2luZyBTeXN0ZW0uV2ViOwp1c2luZyBTeXN0ZW0uV2ViLk12YzsKdXNpbmcgTWljcm9zb2Z0LkFzcE5ldC5JZGVudGl0eTsKdXNpbmcgTWljcm9zb2Z0LkFzcE5ldC5JZGVudGl0eS5Pd2luOwp1c2luZyBNaWNyb3NvZnQuT3dpbi5TZWN1cml0eTsKdXNpbmcgQWNjb3VudFZlcmlmaWNhdGlvbi5XZWIuTW9kZWxzOwoKbmFtZXNwYWNlIEFjY291bnRWZXJpZmljYXRpb24uV2ViLkNvbnRyb2xsZXJzCnsKICAgIFtBdXRob3JpemVdCiAgICBwdWJsaWMgY2xhc3MgQWNjb3VudENvbnRyb2xsZXIgOiBDb250cm9sbGVyCiAgICB7CiAgICAgICAgcHJpdmF0ZSBBcHBsaWNhdGlvblNpZ25Jbk1hbmFnZXIgX3NpZ25Jbk1hbmFnZXI7CiAgICAgICAgcHJpdmF0ZSBBcHBsaWNhdGlvblVzZXJNYW5hZ2VyIF91c2VyTWFuYWdlcjsKCiAgICAgICAgcHVibGljIEFjY291bnRDb250cm9sbGVyKCkKICAgICAgICB7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQWNjb3VudENvbnRyb2xsZXIoQXBwbGljYXRpb25Vc2VyTWFuYWdlciB1c2VyTWFuYWdlciwgQXBwbGljYXRpb25TaWduSW5NYW5hZ2VyIHNpZ25Jbk1hbmFnZXIgKQogICAgICAgIHsKICAgICAgICAgICAgVXNlck1hbmFnZXIgPSB1c2VyTWFuYWdlcjsKICAgICAgICAgICAgU2lnbkluTWFuYWdlciA9IHNpZ25Jbk1hbmFnZXI7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQXBwbGljYXRpb25TaWduSW5NYW5hZ2VyIFNpZ25Jbk1hbmFnZXIKICAgICAgICB7CiAgICAgICAgICAgIGdldAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3NpZ25Jbk1hbmFnZXIgPz8gSHR0cENvbnRleHQuR2V0T3dpbkNvbnRleHQoKS5HZXQ8QXBwbGljYXRpb25TaWduSW5NYW5hZ2VyPigpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHByaXZhdGUgc2V0IAogICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgX3NpZ25Jbk1hbmFnZXIgPSB2YWx1ZTsgCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHB1YmxpYyBBcHBsaWNhdGlvblVzZXJNYW5hZ2VyIFVzZXJNYW5hZ2VyCiAgICAgICAgewogICAgICAgICAgICBnZXQKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIF91c2VyTWFuYWdlciA/PyBIdHRwQ29udGV4dC5HZXRPd2luQ29udGV4dCgpLkdldFVzZXJNYW5hZ2VyPEFwcGxpY2F0aW9uVXNlck1hbmFnZXI+KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJpdmF0ZSBzZXQKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgX3VzZXJNYW5hZ2VyID0gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vCiAgICAgICAgLy8gR0VUOiAvQWNjb3VudC9WZXJpZnlDb2RlCiAgICAgICAgW0FsbG93QW5vbnltb3VzXQogICAgICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQgVmVyaWZ5UmVnaXN0cmF0aW9uQ29kZShzdHJpbmcgbWVzc2FnZSkKICAgICAgICB7CiAgICAgICAgICAgIFZpZXdCYWcuTWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgICAgICAgIHJldHVybiBWaWV3KG5ldyBWZXJpZnlDb2RlVmlld01vZGVsKCkpOwogICAgICAgIH0KCiAgICAgICAgLy8KICAgICAgICAvLyBQT1NUOiAvQWNjb3VudC9WZXJpZnlDb2RlCiAgICAgICAgW0h0dHBQb3N0XQogICAgICAgIFtBbGxvd0Fub255bW91c10KICAgICAgICBbVmFsaWRhdGVBbnRpRm9yZ2VyeVRva2VuXQogICAgICAgIHB1YmxpYyBhc3luYyBUYXNrPEFjdGlvblJlc3VsdD4gVmVyaWZ5UmVnaXN0cmF0aW9uQ29kZShWZXJpZnlDb2RlVmlld01vZGVsIG1vZGVsKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCFNb2RlbFN0YXRlLklzVmFsaWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBWaWV3KG1vZGVsKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHVzZXIgPSBhd2FpdCBVc2VyTWFuYWdlci5GaW5kQnlFbWFpbEFzeW5jKG1vZGVsLkVtYWlsKTsKICAgICAgICAgICAgaWYgKHVzZXIgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgTW9kZWxTdGF0ZS5BZGRNb2RlbEVycm9yKCIiLCBBcHBsaWNhdGlvbk1lc3NhZ2VzLlVzZXJOb3RGb3VuZEZvckdpdmVuRW1haWwpOwogICAgICAgICAgICAgICAgcmV0dXJuIFZpZXcobW9kZWwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHVzZXIuUGhvbmVOdW1iZXJDb25maXJtZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIE1vZGVsU3RhdGUuQWRkTW9kZWxFcnJvcigiIiwgQXBwbGljYXRpb25NZXNzYWdlcy5Vc2VyQWxyZWFkeUNvbmZpcm1lZCk7CiAgICAgICAgICAgICAgICByZXR1cm4gVmlldyhtb2RlbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCBVc2VyTWFuYWdlci5Db25maXJtUGhvbmVOdW1iZXJBc3luYyh1c2VyLklkLCBtb2RlbC5Db2RlKTsKCiAgICAgICAgICAgIGlmIChyZXN1bHQuU3VjY2VlZGVkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBhd2FpdCBTaWduSW5NYW5hZ2VyLlNpZ25JbkFzeW5jKHVzZXIsIGlzUGVyc2lzdGVudDpmYWxzZSwgcmVtZW1iZXJCcm93c2VyOmZhbHNlKTsKICAgICAgICAgICAgICAgIGF3YWl0IFVzZXJNYW5hZ2VyLlNlbmRTbXNBc3luYyh1c2VyLklkLCBBcHBsaWNhdGlvbk1lc3NhZ2VzLlNpZ251cENvbXBsZXRlKTsKICAgICAgICAgICAgICAgIHJldHVybiBSZWRpcmVjdFRvQWN0aW9uKCJTdGF0dXMiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIEFkZEVycm9ycyhyZXN1bHQpOwogICAgICAgICAgICAgICAgcmV0dXJuIFZpZXcobW9kZWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLwogICAgICAgIC8vIEdFVDogL0FjY291bnQvU3RhdHVzCiAgICAgICAgW0FsbG93QW5vbnltb3VzXQogICAgICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQgU3RhdHVzKCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBWaWV3KCk7CiAgICAgICAgfQoKICAgICAgICAvLwogICAgICAgIC8vIEdFVDogL0FjY291bnQvUmVzZW5kVmVyaWZpY2F0aW9uQ29kZQogICAgICAgIFtBbGxvd0Fub255bW91c10KICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0IFJlc2VuZFZlcmlmaWNhdGlvbkNvZGUoc3RyaW5nIGVtYWlsKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIFZpZXcobmV3IFJlc2VuZFZlcmlmeUNvZGVWaWV3TW9kZWwoKSB7RW1haWwgPSBlbWFpbH0pOwogICAgICAgIH0KCiAgICAgICAgLy8KICAgICAgICAvLyBQT1NUOiAvQWNjb3VudC9SZXNlbmRWZXJpZmljYXRpb25Db2RlCiAgICAgICAgW0h0dHBQb3N0XQogICAgICAgIFtBbGxvd0Fub255bW91c10KICAgICAgICBbVmFsaWRhdGVBbnRpRm9yZ2VyeVRva2VuXQogICAgICAgIHB1YmxpYyBhc3luYyBUYXNrPEFjdGlvblJlc3VsdD4gUmVzZW5kVmVyaWZpY2F0aW9uQ29kZShSZXNlbmRWZXJpZnlDb2RlVmlld01vZGVsIG1vZGVsKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCFNb2RlbFN0YXRlLklzVmFsaWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBWaWV3KG1vZGVsKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHVzZXIgPSBhd2FpdCBVc2VyTWFuYWdlci5GaW5kQnlFbWFpbEFzeW5jKG1vZGVsLkVtYWlsKTsKICAgICAgICAgICAgaWYgKHVzZXIgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgTW9kZWxTdGF0ZS5BZGRNb2RlbEVycm9yKCIiLCBBcHBsaWNhdGlvbk1lc3NhZ2VzLlVzZXJOb3RGb3VuZEZvckdpdmVuRW1haWwpOwogICAgICAgICAgICAgICAgcmV0dXJuIFZpZXcobW9kZWwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh1c2VyLlBob25lTnVtYmVyQ29uZmlybWVkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBNb2RlbFN0YXRlLkFkZE1vZGVsRXJyb3IoIiIsIEFwcGxpY2F0aW9uTWVzc2FnZXMuVXNlckFscmVhZHlDb25maXJtZWQpOwogICAgICAgICAgICAgICAgcmV0dXJuIFZpZXcobW9kZWwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhd2FpdCBVc2VyTWFuYWdlci5SZXF1ZXN0UGhvbmVOdW1iZXJDb25maXJtYXRpb25Ub2tlbkFzeW5jKHVzZXIuSWQpOwogICAgICAgICAgICByZXR1cm4gUmVkaXJlY3RUb0FjdGlvbigiVmVyaWZ5UmVnaXN0cmF0aW9uQ29kZSIsIG5ldyB7bWVzc2FnZSA9IEFwcGxpY2F0aW9uTWVzc2FnZXMuVmVyaWZpY2F0aW9uQ29kZVJlc2VudH0pOwogICAgICAgIH0KCiAgICAgICAgLy8KICAgICAgICAvLyBHRVQ6IC9BY2NvdW50L1JlZ2lzdGVyCiAgICAgICAgW0FsbG93QW5vbnltb3VzXQogICAgICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQgUmVnaXN0ZXIoKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIFZpZXcoKTsKICAgICAgICB9CgogICAgICAgIC8vCiAgICAgICAgLy8gUE9TVDogL0FjY291bnQvUmVnaXN0ZXIKICAgICAgICBbSHR0cFBvc3RdCiAgICAgICAgW0FsbG93QW5vbnltb3VzXQogICAgICAgIFtWYWxpZGF0ZUFudGlGb3JnZXJ5VG9rZW5dCiAgICAgICAgcHVibGljIGFzeW5jIFRhc2s8QWN0aW9uUmVzdWx0PiBSZWdpc3RlcihSZWdpc3RlclZpZXdNb2RlbCBtb2RlbCkKICAgICAgICB7CiAgICAgICAgICAgIGlmIChNb2RlbFN0YXRlLklzVmFsaWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciB1c2VyID0gbmV3IEFwcGxpY2F0aW9uVXNlcgogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIE5hbWUgPSBtb2RlbC5OYW1lLAogICAgICAgICAgICAgICAgICAgIFVzZXJOYW1lID0gbW9kZWwuRW1haWwsCiAgICAgICAgICAgICAgICAgICAgRW1haWwgPSBtb2RlbC5FbWFpbCwKICAgICAgICAgICAgICAgICAgICBQaG9uZU51bWJlciA9IFN0cmluZy5Gb3JtYXQoIit7MH17MX0iLCBtb2RlbC5Db3VudHJ5Q29kZSwgbW9kZWwuUGhvbmVOdW1iZXIpLAogICAgICAgICAgICAgICAgICAgIENvdW50cnlDb2RlID0gbW9kZWwuQ291bnRyeUNvZGUsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IFVzZXJNYW5hZ2VyLkNyZWF0ZUFzeW5jKHVzZXIsIG1vZGVsLlBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuU3VjY2VlZGVkKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBlbmFibGUgYWNjb3VudCBjb25maXJtYXRpb24gYW5kIHBhc3N3b3JkIHJlc2V0IAogICAgICAgICAgICAgICAgICAgIC8vIHBsZWFzZSB2aXNpdCBodHRwOi8vZ28ubWljcm9zb2Z0LmNvbS9md2xpbmsvP0xpbmtJRD0zMjA3NzEKICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIGFuIGVtYWlsIHdpdGggdGhpcyBsaW5rCiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaW5nIGNvZGUgPSBhd2FpdCBVc2VyTWFuYWdlci5HZW5lcmF0ZUVtYWlsQ29uZmlybWF0aW9uVG9rZW5Bc3luYyh1c2VyLklkKTsKICAgICAgICAgICAgICAgICAgICAvLyB2YXIgY2FsbGJhY2tVcmwgPSBVcmwuQWN0aW9uKCJDb25maXJtRW1haWwiLCAiQWNjb3VudCIsIAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgbmV3IHsgdXNlcklkID0gdXNlci5JZCwgY29kZSA9IGNvZGUgfSwgcHJvdG9jb2w6IFJlcXVlc3QuVXJsLlNjaGVtZSk7CiAgICAgICAgICAgICAgICAgICAgLy8gYXdhaXQgVXNlck1hbmFnZXIuU2VuZEVtYWlsQXN5bmModXNlci5JZCwgIkNvbmZpcm0geW91ciBhY2NvdW50IiwgCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAiUGxlYXNlIGNvbmZpcm0geW91ciBhY2NvdW50IGJ5IGNsaWNraW5nIDxhIGhyZWY9XCIiICsgY2FsbGJhY2tVcmwgKyAiXCI+aGVyZTwvYT4iKTsKCgogICAgICAgICAgICAgICAgICAgIGF3YWl0IFVzZXJNYW5hZ2VyLlJlcXVlc3RQaG9uZU51bWJlckNvbmZpcm1hdGlvblRva2VuQXN5bmModXNlci5JZCk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWRpcmVjdFRvQWN0aW9uKCJWZXJpZnlSZWdpc3RyYXRpb25Db2RlIiwgbmV3IHttZXNzYWdlID0gQXBwbGljYXRpb25NZXNzYWdlcy5WZXJpZmljYXRpb25Db2RlU2VudH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgQWRkRXJyb3JzKHJlc3VsdCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIElmIHdlIGdvdCB0aGlzIGZhciwgc29tZXRoaW5nIGZhaWxlZCwgcmVkaXNwbGF5IGZvcm0KICAgICAgICAgICAgcmV0dXJuIFZpZXcobW9kZWwpOwogICAgICAgIH0KCiAgICAgICAgLy8KICAgICAgICAvLyBQT1NUOiAvQWNjb3VudC9Mb2dPZmYKICAgICAgICBbSHR0cFBvc3RdCiAgICAgICAgW1ZhbGlkYXRlQW50aUZvcmdlcnlUb2tlbl0KICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0IExvZ09mZigpCiAgICAgICAgewogICAgICAgICAgICBBdXRoZW50aWNhdGlvbk1hbmFnZXIuU2lnbk91dChEZWZhdWx0QXV0aGVudGljYXRpb25UeXBlcy5BcHBsaWNhdGlvbkNvb2tpZSk7CiAgICAgICAgICAgIHJldHVybiBSZWRpcmVjdFRvQWN0aW9uKCJJbmRleCIsICJIb21lIik7CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgdm9pZCBEaXNwb3NlKGJvb2wgZGlzcG9zaW5nKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKGRpc3Bvc2luZykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKF91c2VyTWFuYWdlciAhPSBudWxsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIF91c2VyTWFuYWdlci5EaXNwb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgX3VzZXJNYW5hZ2VyID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3NpZ25Jbk1hbmFnZXIgIT0gbnVsbCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBfc2lnbkluTWFuYWdlci5EaXNwb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgX3NpZ25Jbk1hbmFnZXIgPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBiYXNlLkRpc3Bvc2UoZGlzcG9zaW5nKTsKICAgICAgICB9CgogICAgICAgICNyZWdpb24gSGVscGVycwogICAgICAgIC8vIFVzZWQgZm9yIFhTUkYgcHJvdGVjdGlvbiB3aGVuIGFkZGluZyBleHRlcm5hbCBsb2dpbnMKICAgICAgICBwcml2YXRlIGNvbnN0IHN0cmluZyBYc3JmS2V5ID0gIlhzcmZJZCI7CgogICAgICAgIHByaXZhdGUgSUF1dGhlbnRpY2F0aW9uTWFuYWdlciBBdXRoZW50aWNhdGlvbk1hbmFnZXIKICAgICAgICB7CiAgICAgICAgICAgIGdldAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gSHR0cENvbnRleHQuR2V0T3dpbkNvbnRleHQoKS5BdXRoZW50aWNhdGlvbjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHJpdmF0ZSB2b2lkIEFkZEVycm9ycyhJZGVudGl0eVJlc3VsdCByZXN1bHQpCiAgICAgICAgewogICAgICAgICAgICBmb3JlYWNoICh2YXIgZXJyb3IgaW4gcmVzdWx0LkVycm9ycykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgTW9kZWxTdGF0ZS5BZGRNb2RlbEVycm9yKCIiLCBlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGludGVybmFsIGNsYXNzIENoYWxsZW5nZVJlc3VsdCA6IEh0dHBVbmF1dGhvcml6ZWRSZXN1bHQKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBDaGFsbGVuZ2VSZXN1bHQoc3RyaW5nIHByb3ZpZGVyLCBzdHJpbmcgcmVkaXJlY3RVcmkpCiAgICAgICAgICAgICAgICA6IHRoaXMocHJvdmlkZXIsIHJlZGlyZWN0VXJpLCBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHB1YmxpYyBDaGFsbGVuZ2VSZXN1bHQoc3RyaW5nIHByb3ZpZGVyLCBzdHJpbmcgcmVkaXJlY3RVcmksIHN0cmluZyB1c2VySWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIExvZ2luUHJvdmlkZXIgPSBwcm92aWRlcjsKICAgICAgICAgICAgICAgIFJlZGlyZWN0VXJpID0gcmVkaXJlY3RVcmk7CiAgICAgICAgICAgICAgICBVc2VySWQgPSB1c2VySWQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHB1YmxpYyBzdHJpbmcgTG9naW5Qcm92aWRlciB7IGdldDsgc2V0OyB9CiAgICAgICAgICAgIHB1YmxpYyBzdHJpbmcgUmVkaXJlY3RVcmkgeyBnZXQ7IHNldDsgfQogICAgICAgICAgICBwdWJsaWMgc3RyaW5nIFVzZXJJZCB7IGdldDsgc2V0OyB9CgogICAgICAgICAgICBwdWJsaWMgb3ZlcnJpZGUgdm9pZCBFeGVjdXRlUmVzdWx0KENvbnRyb2xsZXJDb250ZXh0IGNvbnRleHQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gbmV3IEF1dGhlbnRpY2F0aW9uUHJvcGVydGllcyB7IFJlZGlyZWN0VXJpID0gUmVkaXJlY3RVcmkgfTsKICAgICAgICAgICAgICAgIGlmIChVc2VySWQgIT0gbnVsbCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLkRpY3Rpb25hcnlbWHNyZktleV0gPSBVc2VySWQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb250ZXh0Lkh0dHBDb250ZXh0LkdldE93aW5Db250ZXh0KCkuQXV0aGVudGljYXRpb24uQ2hhbGxlbmdlKHByb3BlcnRpZXMsIExvZ2luUHJvdmlkZXIpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAjZW5kcmVnaW9uCiAgICB9Cn0=</textarea>
<textarea class="saurus-file" data-file="AccountVerification.Web/Views/Account/VerifyRegistrationCode.cshtml" data-mode="html">77u/QG1vZGVsIEFjY291bnRWZXJpZmljYXRpb24uV2ViLk1vZGVscy5WZXJpZnlDb2RlVmlld01vZGVsCkB7CiAgICBWaWV3QmFnLlRpdGxlID0gIlZlcmlmeSBSZWdpc3RyYXRpb24iOwp9Cgo8aDI+QFZpZXdCYWcuVGl0bGUuPC9oMj4KCkB1c2luZyAoSHRtbC5CZWdpbkZvcm0oIlZlcmlmeVJlZ2lzdHJhdGlvbkNvZGUiLCAiQWNjb3VudCIsIEZvcm1NZXRob2QuUG9zdCwgbmV3IHsgQGNsYXNzID0gImZvcm0taG9yaXpvbnRhbCIsIHJvbGUgPSAiZm9ybSIgfSkpCnsKICAgIEBIdG1sLkFudGlGb3JnZXJ5VG9rZW4oKQogICAgPGhyLz4KICAgIGlmIChWaWV3QmFnLk1lc3NhZ2UgIT0gbnVsbCkKICAgIHsKICAgICAgICA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1pbmZvIj5AVmlld0JhZy5NZXNzYWdlPC9kaXY+CiAgICB9CgogICAgQEh0bWwuVmFsaWRhdGlvblN1bW1hcnkoIiIsIG5ldyB7IEBjbGFzcyA9ICJ0ZXh0LWRhbmdlciIgfSkKICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIEBIdG1sLkxhYmVsRm9yKG0gPT4gbS5FbWFpbCwgbmV3IHsgQGNsYXNzID0gImNvbC1tZC0yIGNvbnRyb2wtbGFiZWwiIH0pCiAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTEwIj4KICAgICAgICAgICAgQEh0bWwuVGV4dEJveEZvcihtID0+IG0uRW1haWwsIG5ldyB7IEBjbGFzcyA9ICJmb3JtLWNvbnRyb2wiIH0pCiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIEBIdG1sLkxhYmVsRm9yKG0gPT4gbS5Db2RlLCBuZXcgeyBAY2xhc3MgPSAiY29sLW1kLTIgY29udHJvbC1sYWJlbCIgfSkKICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMTAiPgogICAgICAgICAgICBASHRtbC5UZXh0Qm94Rm9yKG0gPT4gbS5Db2RlLCBuZXcgeyBAY2xhc3MgPSAiZm9ybS1jb250cm9sIiB9KQogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtb2Zmc2V0LTIgY29sLW1kLTEwIj4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCIgdmFsdWU9IlN1Ym1pdCIvPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtb2Zmc2V0LTIgY29sLW1kLTEwIj4KICAgICAgICAgICAgQEh0bWwuQWN0aW9uTGluaygiUmVzZW5kIGNvZGUiLCAiUmVzZW5kVmVyaWZpY2F0aW9uQ29kZSIsIG5ldyB7IGVtYWlsID0gIl9fXyIgfSwgbmV3IHsgaWQgPSAicmVzZW5kLWxpbmsifSkKICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKfQoKQHNlY3Rpb24gU2NyaXB0cyB7CiAgICBAU2NyaXB0cy5SZW5kZXIoIn4vYnVuZGxlcy9qcXVlcnl2YWwiKQogICAgPHNjcmlwdD4KICAgICAgICAkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgnI3Jlc2VuZC1saW5rJykuY2xpY2soZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHZhciBlbWFpbCA9ICQoIiNFbWFpbCIpLnZhbCgpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZW1haWwpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5ocmVmKTsKICAgICAgICAgICAgICAgIHRoaXMuaHJlZiA9IHRoaXMuaHJlZi5yZXBsYWNlKCJfX18iLCBlbWFpbCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmhyZWYpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIDwvc2NyaXB0Pgp9Cg==</textarea>
<textarea class="saurus-file" data-file="AccountVerification.Web/Web.config" data-mode="xml">77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLQogIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBjb25maWd1cmUgeW91ciBBU1AuTkVUIGFwcGxpY2F0aW9uLCBwbGVhc2UgdmlzaXQKICBodHRwOi8vZ28ubWljcm9zb2Z0LmNvbS9md2xpbmsvP0xpbmtJZD0zMDE4ODAKICAtLT4KPGNvbmZpZ3VyYXRpb24+CiAgPGNvbmZpZ1NlY3Rpb25zPgogICAgPCEtLSBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBFbnRpdHkgRnJhbWV3b3JrIGNvbmZpZ3VyYXRpb24sIHZpc2l0IGh0dHA6Ly9nby5taWNyb3NvZnQuY29tL2Z3bGluay8/TGlua0lEPTIzNzQ2OCAtLT4KICAgIDxzZWN0aW9uIG5hbWU9ImVudGl0eUZyYW1ld29yayIgdHlwZT0iU3lzdGVtLkRhdGEuRW50aXR5LkludGVybmFsLkNvbmZpZ0ZpbGUuRW50aXR5RnJhbWV3b3JrU2VjdGlvbiwgRW50aXR5RnJhbWV3b3JrLCBWZXJzaW9uPTYuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49Yjc3YTVjNTYxOTM0ZTA4OSIgcmVxdWlyZVBlcm1pc3Npb249ImZhbHNlIiAvPgogIDwvY29uZmlnU2VjdGlvbnM+CiAgPGNvbm5lY3Rpb25TdHJpbmdzPgogICAgPGFkZCBuYW1lPSJEZWZhdWx0Q29ubmVjdGlvbiIgY29ubmVjdGlvblN0cmluZz0iRGF0YSBTb3VyY2U9KExvY2FsRGIpXE1TU1FMTG9jYWxEQjtBdHRhY2hEYkZpbGVuYW1lPXxEYXRhRGlyZWN0b3J5fFxhc3BuZXQtQWNjb3VudFZlcmlmaWNhdGlvbi5XZWIubWRmO0luaXRpYWwgQ2F0YWxvZz1hc3BuZXQtQWNjb3VudFZlcmlmaWNhdGlvbi5XZWI7SW50ZWdyYXRlZCBTZWN1cml0eT1UcnVlIiBwcm92aWRlck5hbWU9IlN5c3RlbS5EYXRhLlNxbENsaWVudCIgLz4KICA8L2Nvbm5lY3Rpb25TdHJpbmdzPgogIDxhcHBTZXR0aW5ncyBmaWxlPSJMb2NhbC5jb25maWciPgogICAgPGFkZCBrZXk9IndlYnBhZ2VzOlZlcnNpb24iIHZhbHVlPSIzLjAuMC4wIiAvPgogICAgPGFkZCBrZXk9IndlYnBhZ2VzOkVuYWJsZWQiIHZhbHVlPSJmYWxzZSIgLz4KICAgIDxhZGQga2V5PSJDbGllbnRWYWxpZGF0aW9uRW5hYmxlZCIgdmFsdWU9InRydWUiIC8+CiAgICA8YWRkIGtleT0iVW5vYnRydXNpdmVKYXZhU2NyaXB0RW5hYmxlZCIgdmFsdWU9InRydWUiIC8+CiAgICA8YWRkIGtleT0iVHdpbGlvQWNjb3VudFNJRCIgdmFsdWU9InlvdXJfdHdpbGlvX2FjY291bnRfU0lEIiAvPgogICAgPGFkZCBrZXk9IlR3aWxpb0F1dGhUb2tlbiIgdmFsdWU9InlvdXJfdHdpbGlvX2FjY291bnRfYXV0aF90b2tlbiIgLz4KICAgIDxhZGQga2V5PSJUd2lsaW9OdW1iZXIiIHZhbHVlPSJ5b3VyX3R3aWxpb19udW1iZXIiIC8+CiAgICA8YWRkIGtleT0iQXV0aHlLZXkiIHZhbHVlPSJ5b3VyX2F1dGh5X2tleSIgLz4KICA8L2FwcFNldHRpbmdzPgogIDwhLS0KICAgIEZvciBhIGRlc2NyaXB0aW9uIG9mIHdlYi5jb25maWcgY2hhbmdlcyBzZWUgaHR0cDovL2dvLm1pY3Jvc29mdC5jb20vZndsaW5rLz9MaW5rSWQ9MjM1MzY3LgoKICAgIFRoZSBmb2xsb3dpbmcgYXR0cmlidXRlcyBjYW4gYmUgc2V0IG9uIHRoZSA8aHR0cFJ1bnRpbWU+IHRhZy4KICAgICAgPHN5c3RlbS5XZWI+CiAgICAgICAgPGh0dHBSdW50aW1lIHRhcmdldEZyYW1ld29yaz0iNC41IiAvPgogICAgICA8L3N5c3RlbS5XZWI+CiAgLS0+CiAgPHN5c3RlbS53ZWI+CiAgICA8YXV0aGVudGljYXRpb24gbW9kZT0iTm9uZSIgLz4KICAgIDxjb21waWxhdGlvbiBkZWJ1Zz0idHJ1ZSIgdGFyZ2V0RnJhbWV3b3JrPSI0LjUiIC8+CiAgICA8aHR0cFJ1bnRpbWUgdGFyZ2V0RnJhbWV3b3JrPSI0LjUiIC8+CiAgPC9zeXN0ZW0ud2ViPgogIDxzeXN0ZW0ud2ViU2VydmVyPgogICAgPG1vZHVsZXM+CiAgICAgIDxyZW1vdmUgbmFtZT0iRm9ybXNBdXRoZW50aWNhdGlvbiIgLz4KICAgIDwvbW9kdWxlcz4KICA8L3N5c3RlbS53ZWJTZXJ2ZXI+CiAgPHJ1bnRpbWU+CiAgICA8YXNzZW1ibHlCaW5kaW5nIHhtbG5zPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOmFzbS52MSI+CiAgICAgIDxkZXBlbmRlbnRBc3NlbWJseT4KICAgICAgICA8YXNzZW1ibHlJZGVudGl0eSBuYW1lPSJNaWNyb3NvZnQuT3dpbi5TZWN1cml0eSIgcHVibGljS2V5VG9rZW49IjMxYmYzODU2YWQzNjRlMzUiIC8+CiAgICAgICAgPGJpbmRpbmdSZWRpcmVjdCBvbGRWZXJzaW9uPSIwLjAuMC4wLTMuMC4xLjAiIG5ld1ZlcnNpb249IjMuMC4xLjAiIC8+CiAgICAgIDwvZGVwZW5kZW50QXNzZW1ibHk+CiAgICAgIDxkZXBlbmRlbnRBc3NlbWJseT4KICAgICAgICA8YXNzZW1ibHlJZGVudGl0eSBuYW1lPSJNaWNyb3NvZnQuT3dpbi5TZWN1cml0eS5PQXV0aCIgcHVibGljS2V5VG9rZW49IjMxYmYzODU2YWQzNjRlMzUiIC8+CiAgICAgICAgPGJpbmRpbmdSZWRpcmVjdCBvbGRWZXJzaW9uPSIwLjAuMC4wLTMuMC4xLjAiIG5ld1ZlcnNpb249IjMuMC4xLjAiIC8+CiAgICAgIDwvZGVwZW5kZW50QXNzZW1ibHk+CiAgICAgIDxkZXBlbmRlbnRBc3NlbWJseT4KICAgICAgICA8YXNzZW1ibHlJZGVudGl0eSBuYW1lPSJNaWNyb3NvZnQuT3dpbi5TZWN1cml0eS5Db29raWVzIiBwdWJsaWNLZXlUb2tlbj0iMzFiZjM4NTZhZDM2NGUzNSIgLz4KICAgICAgICA8YmluZGluZ1JlZGlyZWN0IG9sZFZlcnNpb249IjAuMC4wLjAtMy4wLjEuMCIgbmV3VmVyc2lvbj0iMy4wLjEuMCIgLz4KICAgICAgPC9kZXBlbmRlbnRBc3NlbWJseT4KICAgICAgPGRlcGVuZGVudEFzc2VtYmx5PgogICAgICAgIDxhc3NlbWJseUlkZW50aXR5IG5hbWU9Ik1pY3Jvc29mdC5Pd2luIiBwdWJsaWNLZXlUb2tlbj0iMzFiZjM4NTZhZDM2NGUzNSIgLz4KICAgICAgICA8YmluZGluZ1JlZGlyZWN0IG9sZFZlcnNpb249IjAuMC4wLjAtMy4wLjEuMCIgbmV3VmVyc2lvbj0iMy4wLjEuMCIgLz4KICAgICAgPC9kZXBlbmRlbnRBc3NlbWJseT4KICAgICAgPGRlcGVuZGVudEFzc2VtYmx5PgogICAgICAgIDxhc3NlbWJseUlkZW50aXR5IG5hbWU9Ik5ld3RvbnNvZnQuSnNvbiIgY3VsdHVyZT0ibmV1dHJhbCIgcHVibGljS2V5VG9rZW49IjMwYWQ0ZmU2YjJhNmFlZWQiIC8+CiAgICAgICAgPGJpbmRpbmdSZWRpcmVjdCBvbGRWZXJzaW9uPSIwLjAuMC4wLTYuMC4wLjAiIG5ld1ZlcnNpb249IjYuMC4wLjAiIC8+CiAgICAgIDwvZGVwZW5kZW50QXNzZW1ibHk+CiAgICAgIDxkZXBlbmRlbnRBc3NlbWJseT4KICAgICAgICA8YXNzZW1ibHlJZGVudGl0eSBuYW1lPSJTeXN0ZW0uV2ViLk9wdGltaXphdGlvbiIgcHVibGljS2V5VG9rZW49IjMxYmYzODU2YWQzNjRlMzUiIC8+CiAgICAgICAgPGJpbmRpbmdSZWRpcmVjdCBvbGRWZXJzaW9uPSIxLjAuMC4wLTEuMS4wLjAiIG5ld1ZlcnNpb249IjEuMS4wLjAiIC8+CiAgICAgIDwvZGVwZW5kZW50QXNzZW1ibHk+CiAgICAgIDxkZXBlbmRlbnRBc3NlbWJseT4KICAgICAgICA8YXNzZW1ibHlJZGVudGl0eSBuYW1lPSJXZWJHcmVhc2UiIHB1YmxpY0tleVRva2VuPSIzMWJmMzg1NmFkMzY0ZTM1IiAvPgogICAgICAgIDxiaW5kaW5nUmVkaXJlY3Qgb2xkVmVyc2lvbj0iMC4wLjAuMC0xLjUuMi4xNDIzNCIgbmV3VmVyc2lvbj0iMS41LjIuMTQyMzQiIC8+CiAgICAgIDwvZGVwZW5kZW50QXNzZW1ibHk+CiAgICAgIDxkZXBlbmRlbnRBc3NlbWJseT4KICAgICAgICA8YXNzZW1ibHlJZGVudGl0eSBuYW1lPSJTeXN0ZW0uV2ViLkhlbHBlcnMiIHB1YmxpY0tleVRva2VuPSIzMWJmMzg1NmFkMzY0ZTM1IiAvPgogICAgICAgIDxiaW5kaW5nUmVkaXJlY3Qgb2xkVmVyc2lvbj0iMS4wLjAuMC0zLjAuMC4wIiBuZXdWZXJzaW9uPSIzLjAuMC4wIiAvPgogICAgICA8L2RlcGVuZGVudEFzc2VtYmx5PgogICAgICA8ZGVwZW5kZW50QXNzZW1ibHk+CiAgICAgICAgPGFzc2VtYmx5SWRlbnRpdHkgbmFtZT0iU3lzdGVtLldlYi5XZWJQYWdlcyIgcHVibGljS2V5VG9rZW49IjMxYmYzODU2YWQzNjRlMzUiIC8+CiAgICAgICAgPGJpbmRpbmdSZWRpcmVjdCBvbGRWZXJzaW9uPSIxLjAuMC4wLTMuMC4wLjAiIG5ld1ZlcnNpb249IjMuMC4wLjAiIC8+CiAgICAgIDwvZGVwZW5kZW50QXNzZW1ibHk+CiAgICAgIDxkZXBlbmRlbnRBc3NlbWJseT4KICAgICAgICA8YXNzZW1ibHlJZGVudGl0eSBuYW1lPSJTeXN0ZW0uV2ViLk12YyIgcHVibGljS2V5VG9rZW49IjMxYmYzODU2YWQzNjRlMzUiIC8+CiAgICAgICAgPGJpbmRpbmdSZWRpcmVjdCBvbGRWZXJzaW9uPSIwLjAuMC4wLTUuMi4zLjAiIG5ld1ZlcnNpb249IjUuMi4zLjAiIC8+CiAgICAgIDwvZGVwZW5kZW50QXNzZW1ibHk+CiAgICA8L2Fzc2VtYmx5QmluZGluZz4KICA8L3J1bnRpbWU+CiAgPGVudGl0eUZyYW1ld29yaz4KICAgIDxkZWZhdWx0Q29ubmVjdGlvbkZhY3RvcnkgdHlwZT0iU3lzdGVtLkRhdGEuRW50aXR5LkluZnJhc3RydWN0dXJlLkxvY2FsRGJDb25uZWN0aW9uRmFjdG9yeSwgRW50aXR5RnJhbWV3b3JrIj4KICAgICAgPHBhcmFtZXRlcnM+CiAgICAgICAgPHBhcmFtZXRlciB2YWx1ZT0ibXNzcWxsb2NhbGRiIiAvPgogICAgICA8L3BhcmFtZXRlcnM+CiAgICA8L2RlZmF1bHRDb25uZWN0aW9uRmFjdG9yeT4KICAgIDxwcm92aWRlcnM+CiAgICAgIDxwcm92aWRlciBpbnZhcmlhbnROYW1lPSJTeXN0ZW0uRGF0YS5TcWxDbGllbnQiIHR5cGU9IlN5c3RlbS5EYXRhLkVudGl0eS5TcWxTZXJ2ZXIuU3FsUHJvdmlkZXJTZXJ2aWNlcywgRW50aXR5RnJhbWV3b3JrLlNxbFNlcnZlciIgLz4KICAgIDwvcHJvdmlkZXJzPgogIDwvZW50aXR5RnJhbWV3b3JrPgogIDxzeXN0ZW0uY29kZWRvbT4KICAgIDxjb21waWxlcnM+CiAgICAgIDxjb21waWxlciBsYW5ndWFnZT0iYyM7Y3M7Y3NoYXJwIiBleHRlbnNpb249Ii5jcyIgdHlwZT0iTWljcm9zb2Z0LkNTaGFycC5DU2hhcnBDb2RlUHJvdmlkZXIsIFN5c3RlbSwgVmVyc2lvbj00LjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPWI3N2E1YzU2MTkzNGUwODkiIHdhcm5pbmdMZXZlbD0iNCIgY29tcGlsZXJPcHRpb25zPSIvbGFuZ3ZlcnNpb246NSAvbm93YXJuOjE2NTk7MTY5OTsxNzAxIj4KICAgICAgICAgIDxwcm92aWRlck9wdGlvbiBuYW1lPSJDb21waWxlclZlcnNpb24iIHZhbHVlPSJ2NC4wIiAvPgogICAgICA8L2NvbXBpbGVyPgogICAgICA8Y29tcGlsZXIgbGFuZ3VhZ2U9InZiO3Ziczt2aXN1YWxiYXNpYzt2YnNjcmlwdCIgZXh0ZW5zaW9uPSIudmIiIHR5cGU9Ik1pY3Jvc29mdC5Db2RlRG9tLlByb3ZpZGVycy5Eb3ROZXRDb21waWxlclBsYXRmb3JtLlZCQ29kZVByb3ZpZGVyLCBNaWNyb3NvZnQuQ29kZURvbS5Qcm92aWRlcnMuRG90TmV0Q29tcGlsZXJQbGF0Zm9ybSwgVmVyc2lvbj0xLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMxYmYzODU2YWQzNjRlMzUiIHdhcm5pbmdMZXZlbD0iNCIgY29tcGlsZXJPcHRpb25zPSIvbGFuZ3ZlcnNpb246MTQgL25vd2Fybjo0MTAwOCAvZGVmaW5lOl9NWVRZUEU9XCZxdW90O1dlYlwmcXVvdDsgL29wdGlvbkluZmVyKyIgLz4KICAgIDwvY29tcGlsZXJzPgogIDwvc3lzdGVtLmNvZGVkb20+CjwvY29uZmlndXJhdGlvbj4K</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><a href="https://github.com/TwilioDevEd/account-verification-csharp" target="_blank" class="explorer-get-code"> <i class="fa fa-lg fa-github-square"> </i>View Code on GitHub</a></div></div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="viewsaurus.js"></script></body></html>